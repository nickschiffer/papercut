<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>typeahead.bundle.js - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
  var index_rel_prefix = "../../../";
</script>

<script src="../../../js/jquery.js"></script>
<script src="../../../js/darkfish.js"></script>

<link href="../../../css/fonts.css" rel="stylesheet">
<link href="../../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../LICENSE.html">LICENSE</a>
  
    <li><a href="../../../README_md.html">README</a>
  
    <li><a href="../../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../../app/assets/config/manifest_js.html">manifest.js</a>
  
    <li><a href="../../../app/assets/javascripts/application_js.html">application.js</a>
  
    <li><a href="../../../app/assets/javascripts/books_coffee.html">books.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/cable_js.html">cable.js</a>
  
    <li><a href="../../../app/assets/javascripts/payments_coffee.html">payments.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/posts_coffee.html">posts.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/posts_js.html">posts.js</a>
  
    <li><a href="../../../app/assets/javascripts/receipts_coffee.html">receipts.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/replies_coffee.html">replies.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/sales_coffee.html">sales.coffee</a>
  
    <li><a href="../../../app/assets/javascripts/users_coffee.html">users.coffee</a>
  
    <li><a href="../../../app/assets/stylesheets/_books_scss.html">_books.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_call-to-action_scss.html">_call-to-action.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_footer_scss.html">_footer.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_global_scss.html">_global.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_icons_scss.html">_icons.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_masthead_scss.html">_masthead.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_mixins_scss.html">_mixins.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_posts_scss.html">_posts.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_replies_scss.html">_replies.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_sales_scss.html">_sales.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_showcase_scss.html">_showcase.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_testimonials_scss.html">_testimonials.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/_variables_scss.html">_variables.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/alerts_css_scss.html">alerts.css.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/application_scss.html">application.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/css/landing-page_css.html">landing-page.css</a>
  
    <li><a href="../../../app/assets/stylesheets/css/landing-page_min_css.html">landing-page.min.css</a>
  
    <li><a href="../../../app/assets/stylesheets/devise_scss.html">devise.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/landing-page_min_css.html">landing-page.min.css</a>
  
    <li><a href="../../../app/assets/stylesheets/landing-page_scss.html">landing-page.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/landing-page1_css.html">landing-page1.css</a>
  
    <li><a href="../../../app/assets/stylesheets/payments_scss.html">payments.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/receipts_scss.html">receipts.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scaffolds_scss.html">scaffolds.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_call-to-action_scss.html">_call-to-action.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_footer_scss.html">_footer.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_global_scss.html">_global.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_icons_scss.html">_icons.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_masthead_scss.html">_masthead.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_mixins_scss.html">_mixins.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_showcase_scss.html">_showcase.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_testimonials_scss.html">_testimonials.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/_variables_scss.html">_variables.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/scss/landing-page_scss.html">landing-page.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/showpost_scss.html">showpost.scss</a>
  
    <li><a href="../../../app/assets/stylesheets/users_scss.html">users.scss</a>
  
    <li><a href="../../../app/views/books/_book_json_jbuilder.html">_book.json.jbuilder</a>
  
    <li><a href="../../../app/views/books/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/books/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/payments/_payment_json_jbuilder.html">_payment.json.jbuilder</a>
  
    <li><a href="../../../app/views/payments/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/payments/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/posts/_post_json_jbuilder.html">_post.json.jbuilder</a>
  
    <li><a href="../../../app/views/posts/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/posts/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/receipts/_receipt_json_jbuilder.html">_receipt.json.jbuilder</a>
  
    <li><a href="../../../app/views/receipts/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/receipts/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/replies/_reply_json_jbuilder.html">_reply.json.jbuilder</a>
  
    <li><a href="../../../app/views/replies/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/replies/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../app/views/sales/_sale_json_jbuilder.html">_sale.json.jbuilder</a>
  
    <li><a href="../../../app/views/sales/index_json_jbuilder.html">index.json.jbuilder</a>
  
    <li><a href="../../../app/views/sales/show_json_jbuilder.html">show.json.jbuilder</a>
  
    <li><a href="../../../config_ru.html">config.ru</a>
  
    <li><a href="../../../db/seeds_rb_admin_bak.html">seeds.rb.admin.bak</a>
  
    <li><a href="../../../db/seeds_rb_bak.html">seeds.rb.bak</a>
  
    <li><a href="../../../doc/ActiveSupport/TestCase_html.html">TestCase.html</a>
  
    <li><a href="../../../doc/AddFirstNameToUsers_html.html">AddFirstNameToUsers.html</a>
  
    <li><a href="../../../doc/AddImageToBooks_html.html">AddImageToBooks.html</a>
  
    <li><a href="../../../doc/AddLastNameToUsers_html.html">AddLastNameToUsers.html</a>
  
    <li><a href="../../../doc/ApplicationCable_html.html">ApplicationCable.html</a>
  
    <li><a href="../../../doc/ApplicationCable/Channel_html.html">Channel.html</a>
  
    <li><a href="../../../doc/ApplicationCable/Connection_html.html">Connection.html</a>
  
    <li><a href="../../../doc/ApplicationController_html.html">ApplicationController.html</a>
  
    <li><a href="../../../doc/ApplicationHelper_html.html">ApplicationHelper.html</a>
  
    <li><a href="../../../doc/ApplicationJob_html.html">ApplicationJob.html</a>
  
    <li><a href="../../../doc/ApplicationMailer_html.html">ApplicationMailer.html</a>
  
    <li><a href="../../../doc/ApplicationRecord_html.html">ApplicationRecord.html</a>
  
    <li><a href="../../../doc/ApplicationSystemTestCase_html.html">ApplicationSystemTestCase.html</a>
  
    <li><a href="../../../doc/Book_html.html">Book.html</a>
  
    <li><a href="../../../doc/BookTest_html.html">BookTest.html</a>
  
    <li><a href="../../../doc/BooksController_html.html">BooksController.html</a>
  
    <li><a href="../../../doc/BooksControllerTest_html.html">BooksControllerTest.html</a>
  
    <li><a href="../../../doc/BooksHelper_html.html">BooksHelper.html</a>
  
    <li><a href="../../../doc/BooksTest_html.html">BooksTest.html</a>
  
    <li><a href="../../../doc/CreateBooks_html.html">CreateBooks.html</a>
  
    <li><a href="../../../doc/CreateFriendlyIdSlugs_html.html">CreateFriendlyIdSlugs.html</a>
  
    <li><a href="../../../doc/CreatePosts_html.html">CreatePosts.html</a>
  
    <li><a href="../../../doc/CreateReceipts_html.html">CreateReceipts.html</a>
  
    <li><a href="../../../doc/CreateReplies_html.html">CreateReplies.html</a>
  
    <li><a href="../../../doc/CreateSales_html.html">CreateSales.html</a>
  
    <li><a href="../../../doc/DeviseCreateUsers_html.html">DeviseCreateUsers.html</a>
  
    <li><a href="../../../doc/DeviseHelper_html.html">DeviseHelper.html</a>
  
    <li><a href="../../../doc/ImageUploader_html.html">ImageUploader.html</a>
  
    <li><a href="../../../doc/Papercut_html.html">Papercut.html</a>
  
    <li><a href="../../../doc/Papercut/Application_html.html">Application.html</a>
  
    <li><a href="../../../doc/Payment_html.html">Payment.html</a>
  
    <li><a href="../../../doc/PaymentsController_html.html">PaymentsController.html</a>
  
    <li><a href="../../../doc/PaymentsHelper_html.html">PaymentsHelper.html</a>
  
    <li><a href="../../../doc/Post_html.html">Post.html</a>
  
    <li><a href="../../../doc/PostTest_html.html">PostTest.html</a>
  
    <li><a href="../../../doc/PostsController_html.html">PostsController.html</a>
  
    <li><a href="../../../doc/PostsControllerTest_html.html">PostsControllerTest.html</a>
  
    <li><a href="../../../doc/PostsHelper_html.html">PostsHelper.html</a>
  
    <li><a href="../../../doc/PostsTest_html.html">PostsTest.html</a>
  
    <li><a href="../../../doc/Receipt_html.html">Receipt.html</a>
  
    <li><a href="../../../doc/ReceiptTest_html.html">ReceiptTest.html</a>
  
    <li><a href="../../../doc/ReceiptsController_html.html">ReceiptsController.html</a>
  
    <li><a href="../../../doc/ReceiptsControllerTest_html.html">ReceiptsControllerTest.html</a>
  
    <li><a href="../../../doc/ReceiptsHelper_html.html">ReceiptsHelper.html</a>
  
    <li><a href="../../../doc/ReceiptsTest_html.html">ReceiptsTest.html</a>
  
    <li><a href="../../../doc/RegistrationsController_html.html">RegistrationsController.html</a>
  
    <li><a href="../../../doc/RepliesController_html.html">RepliesController.html</a>
  
    <li><a href="../../../doc/RepliesControllerTest_html.html">RepliesControllerTest.html</a>
  
    <li><a href="../../../doc/RepliesHelper_html.html">RepliesHelper.html</a>
  
    <li><a href="../../../doc/RepliesTest_html.html">RepliesTest.html</a>
  
    <li><a href="../../../doc/Reply_html.html">Reply.html</a>
  
    <li><a href="../../../doc/ReplyTest_html.html">ReplyTest.html</a>
  
    <li><a href="../../../doc/Sale_html.html">Sale.html</a>
  
    <li><a href="../../../doc/SaleControllerTest_html.html">SaleControllerTest.html</a>
  
    <li><a href="../../../doc/SaleHelper_html.html">SaleHelper.html</a>
  
    <li><a href="../../../doc/SaleTest_html.html">SaleTest.html</a>
  
    <li><a href="../../../doc/SalesController_html.html">SalesController.html</a>
  
    <li><a href="../../../doc/SalesControllerTest_html.html">SalesControllerTest.html</a>
  
    <li><a href="../../../doc/SalesHelper_html.html">SalesHelper.html</a>
  
    <li><a href="../../../doc/SalesTest_html.html">SalesTest.html</a>
  
    <li><a href="../../../doc/StaticsController_html.html">StaticsController.html</a>
  
    <li><a href="../../../doc/User_html.html">User.html</a>
  
    <li><a href="../../../doc/UserTest_html.html">UserTest.html</a>
  
    <li><a href="../../../doc/UsersController_html.html">UsersController.html</a>
  
    <li><a href="../../../doc/UsersControllerTest_html.html">UsersControllerTest.html</a>
  
    <li><a href="../../../doc/UsersHelper_html.html">UsersHelper.html</a>
  
    <li><a href="../../../doc/_index_html.html">_index.html</a>
  
    <li><a href="../../../doc/class_list_html.html">class_list.html</a>
  
    <li><a href="../../../doc/css/common_css.html">common.css</a>
  
    <li><a href="../../../doc/css/full_list_css.html">full_list.css</a>
  
    <li><a href="../../../doc/css/style_css.html">style.css</a>
  
    <li><a href="../../../doc/file_README_html.html">file.README.html</a>
  
    <li><a href="../../../doc/file_list_html.html">file_list.html</a>
  
    <li><a href="../../../doc/frames_html.html">frames.html</a>
  
    <li><a href="../../../doc/index_html.html">index.html</a>
  
    <li><a href="../../../doc/js/app_js.html">app.js</a>
  
    <li><a href="../../../doc/js/full_list_js.html">full_list.js</a>
  
    <li><a href="../../../doc/js/jquery_js.html">jquery.js</a>
  
    <li><a href="../../../doc/method_list_html.html">method_list.html</a>
  
    <li><a href="../../../doc/top-level-namespace_html.html">top-level-namespace.html</a>
  
    <li><a href="../../../log/development_log.html">development.log</a>
  
    <li><a href="../../../log/migrate_log.html">migrate.log</a>
  
    <li><a href="../../../log/test_log.html">test.log</a>
  
    <li><a href="../../../package_json.html">package.json</a>
  
    <li><a href="../../../public/404_html.html">404.html</a>
  
    <li><a href="../../../public/422_html.html">422.html</a>
  
    <li><a href="../../../public/500_html.html">500.html</a>
  
    <li><a href="../../../public/apple-touch-icon-precomposed_png.html">apple-touch-icon-precomposed.png</a>
  
    <li><a href="../../../public/apple-touch-icon_png.html">apple-touch-icon.png</a>
  
    <li><a href="../../../public/favicon_ico.html">favicon.ico</a>
  
    <li><a href="../../../public/robots_txt.html">robots</a>
  
    <li><a href="../../../tmp/restart_txt.html">restart</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/css/bootstrap-grid_css.html">bootstrap-grid.css</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/css/bootstrap-grid_min_css.html">bootstrap-grid.min.css</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/css/bootstrap-reboot_css.html">bootstrap-reboot.css</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/css/bootstrap-reboot_min_css.html">bootstrap-reboot.min.css</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/css/bootstrap_css.html">bootstrap.css</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/css/bootstrap_css_map.html">bootstrap.css.map</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/css/bootstrap_min_css.html">bootstrap.min.css</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/css/bootstrap_min_css_map.html">bootstrap.min.css.map</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/js/bootstrap_bundle_js.html">bootstrap.bundle.js</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/js/bootstrap_bundle_js_map.html">bootstrap.bundle.js.map</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/js/bootstrap_bundle_min_js.html">bootstrap.bundle.min.js</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/js/bootstrap_bundle_min_js_map.html">bootstrap.bundle.min.js.map</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/js/bootstrap_js.html">bootstrap.js</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/js/bootstrap_js_map.html">bootstrap.js.map</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/js/bootstrap_min_js.html">bootstrap.min.js</a>
  
    <li><a href="../../../vendor/assets/javascripts/bootstrap/js/bootstrap_min_js_map.html">bootstrap.min.js.map</a>
  
    <li><a href="../../../vendor/assets/javascripts/typeahead_bundle_js.html">typeahead.bundle.js</a>
  
    <li><a href="../../../vendor/bootstrap/css/bootstrap-grid_css.html">bootstrap-grid.css</a>
  
    <li><a href="../../../vendor/bootstrap/css/bootstrap-grid_min_css.html">bootstrap-grid.min.css</a>
  
    <li><a href="../../../vendor/bootstrap/css/bootstrap-reboot_css.html">bootstrap-reboot.css</a>
  
    <li><a href="../../../vendor/bootstrap/css/bootstrap-reboot_min_css.html">bootstrap-reboot.min.css</a>
  
    <li><a href="../../../vendor/bootstrap/css/bootstrap_css.html">bootstrap.css</a>
  
    <li><a href="../../../vendor/bootstrap/css/bootstrap_css_map.html">bootstrap.css.map</a>
  
    <li><a href="../../../vendor/bootstrap/css/bootstrap_min_css.html">bootstrap.min.css</a>
  
    <li><a href="../../../vendor/bootstrap/css/bootstrap_min_css_map.html">bootstrap.min.css.map</a>
  
    <li><a href="../../../vendor/bootstrap/js/bootstrap_bundle_js.html">bootstrap.bundle.js</a>
  
    <li><a href="../../../vendor/bootstrap/js/bootstrap_bundle_js_map.html">bootstrap.bundle.js.map</a>
  
    <li><a href="../../../vendor/bootstrap/js/bootstrap_bundle_min_js.html">bootstrap.bundle.min.js</a>
  
    <li><a href="../../../vendor/bootstrap/js/bootstrap_bundle_min_js_map.html">bootstrap.bundle.min.js.map</a>
  
    <li><a href="../../../vendor/bootstrap/js/bootstrap_js.html">bootstrap.js</a>
  
    <li><a href="../../../vendor/bootstrap/js/bootstrap_js_map.html">bootstrap.js.map</a>
  
    <li><a href="../../../vendor/bootstrap/js/bootstrap_min_js.html">bootstrap.min.js</a>
  
    <li><a href="../../../vendor/bootstrap/js/bootstrap_min_js_map.html">bootstrap.min.js.map</a>
  
    <li><a href="../../../vendor/font-awesome/css/font-awesome_css.html">font-awesome.css</a>
  
    <li><a href="../../../vendor/font-awesome/css/font-awesome_css_map.html">font-awesome.css.map</a>
  
    <li><a href="../../../vendor/font-awesome/css/font-awesome_min_css.html">font-awesome.min.css</a>
  
    <li><a href="../../../vendor/font-awesome/less/animated_less.html">animated.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/bordered-pulled_less.html">bordered-pulled.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/core_less.html">core.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/fixed-width_less.html">fixed-width.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/font-awesome_less.html">font-awesome.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/icons_less.html">icons.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/larger_less.html">larger.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/list_less.html">list.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/mixins_less.html">mixins.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/path_less.html">path.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/rotated-flipped_less.html">rotated-flipped.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/screen-reader_less.html">screen-reader.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/stacked_less.html">stacked.less</a>
  
    <li><a href="../../../vendor/font-awesome/less/variables_less.html">variables.less</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_animated_scss.html">_animated.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_bordered-pulled_scss.html">_bordered-pulled.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_core_scss.html">_core.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_fixed-width_scss.html">_fixed-width.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_icons_scss.html">_icons.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_larger_scss.html">_larger.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_list_scss.html">_list.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_mixins_scss.html">_mixins.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_path_scss.html">_path.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_rotated-flipped_scss.html">_rotated-flipped.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_screen-reader_scss.html">_screen-reader.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_stacked_scss.html">_stacked.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/_variables_scss.html">_variables.scss</a>
  
    <li><a href="../../../vendor/font-awesome/scss/font-awesome_scss.html">font-awesome.scss</a>
  
    <li><a href="../../../vendor/jquery/jquery_js.html">jquery.js</a>
  
    <li><a href="../../../vendor/jquery/jquery_min_js.html">jquery.min.js</a>
  
    <li><a href="../../../vendor/jquery/jquery_min_map.html">jquery.min.map</a>
  
    <li><a href="../../../vendor/jquery/jquery_slim_js.html">jquery.slim.js</a>
  
    <li><a href="../../../vendor/jquery/jquery_slim_min_js.html">jquery.slim.min.js</a>
  
    <li><a href="../../../vendor/jquery/jquery_slim_min_map.html">jquery.slim.min.map</a>
  
    <li><a href="../../../vendor/simple-line-icons/css/simple-line-icons_css.html">simple-line-icons.css</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page vendor/assets/javascripts/typeahead.bundle.js">

<pre>!
 typeahead.js 0.11.1
 https://github.com/twitter/typeahead.js
 Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT</pre>

<p>(function(root, factory) {</p>

<pre>if (typeof define === &quot;function&quot; &amp;&amp; define.amd) {
    define(&quot;bloodhound&quot;, [ &quot;jquery&quot; ], function(a0) {
        return root[&quot;Bloodhound&quot;] = factory(a0);
    });
} else if (typeof exports === &quot;object&quot;) {
    module.exports = factory(require(&quot;jquery&quot;));
} else {
    root[&quot;Bloodhound&quot;] = factory(jQuery);
}</pre>

<p>})(this, function($) {</p>

<pre>var _ = function() {
    &quot;use strict&quot;;
    return {
        isMsie: function() {
            return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] : false;
        },
        isBlankString: function(str) {
            return !str || /^\s*$/.test(str);
        },
        escapeRegExChars: function(str) {
            return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, &quot;\\$&amp;&quot;);
        },
        isString: function(obj) {
            return typeof obj === &quot;string&quot;;
        },
        isNumber: function(obj) {
            return typeof obj === &quot;number&quot;;
        },
        isArray: $.isArray,
        isFunction: $.isFunction,
        isObject: $.isPlainObject,
        isUndefined: function(obj) {
            return typeof obj === &quot;undefined&quot;;
        },
        isElement: function(obj) {
            return !!(obj &amp;&amp; obj.nodeType === 1);
        },
        isJQuery: function(obj) {
            return obj instanceof $;
        },
        toStr: function toStr(s) {
            return _.isUndefined(s) || s === null ? &quot;&quot; : s + &quot;&quot;;
        },
        bind: $.proxy,
        each: function(collection, cb) {
            $.each(collection, reverseArgs);
            function reverseArgs(index, value) {
                return cb(value, index);
            }
        },
        map: $.map,
        filter: $.grep,
        every: function(obj, test) {
            var result = true;
            if (!obj) {
                return result;
            }
            $.each(obj, function(key, val) {
                if (!(result = test.call(null, val, key, obj))) {
                    return false;
                }
            });
            return !!result;
        },
        some: function(obj, test) {
            var result = false;
            if (!obj) {
                return result;
            }
            $.each(obj, function(key, val) {
                if (result = test.call(null, val, key, obj)) {
                    return false;
                }
            });
            return !!result;
        },
        mixin: $.extend,
        identity: function(x) {
            return x;
        },
        clone: function(obj) {
            return $.extend(true, {}, obj);
        },
        getIdGenerator: function() {
            var counter = 0;
            return function() {
                return counter++;
            };
        },
        templatify: function templatify(obj) {
            return $.isFunction(obj) ? obj : template;
            function template() {
                return String(obj);
            }
        },
        defer: function(fn) {
            setTimeout(fn, 0);
        },
        debounce: function(func, wait, immediate) {
            var timeout, result;
            return function() {
                var context = this, args = arguments, later, callNow;
                later = function() {
                    timeout = null;
                    if (!immediate) {
                        result = func.apply(context, args);
                    }
                };
                callNow = immediate &amp;&amp; !timeout;
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
                if (callNow) {
                    result = func.apply(context, args);
                }
                return result;
            };
        },
        throttle: function(func, wait) {
            var context, args, timeout, result, previous, later;
            previous = 0;
            later = function() {
                previous = new Date();
                timeout = null;
                result = func.apply(context, args);
            };
            return function() {
                var now = new Date(), remaining = wait - (now - previous);
                context = this;
                args = arguments;
                if (remaining &lt;= 0) {
                    clearTimeout(timeout);
                    timeout = null;
                    previous = now;
                    result = func.apply(context, args);
                } else if (!timeout) {
                    timeout = setTimeout(later, remaining);
                }
                return result;
            };
        },
        stringify: function(val) {
            return _.isString(val) ? val : JSON.stringify(val);
        },
        noop: function() {}
    };
}();
var VERSION = &quot;0.11.1&quot;;
var tokenizers = function() {
    &quot;use strict&quot;;
    return {
        nonword: nonword,
        whitespace: whitespace,
        obj: {
            nonword: getObjTokenizer(nonword),
            whitespace: getObjTokenizer(whitespace)
        }
    };
    function whitespace(str) {
        str = _.toStr(str);
        return str ? str.split(/\s+/) : [];
    }
    function nonword(str) {
        str = _.toStr(str);
        return str ? str.split(/\W+/) : [];
    }
    function getObjTokenizer(tokenizer) {
        return function setKey(keys) {
            keys = _.isArray(keys) ? keys : [].slice.call(arguments, 0);
            return function tokenize(o) {
                var tokens = [];
                _.each(keys, function(k) {
                    tokens = tokens.concat(tokenizer(_.toStr(o[k])));
                });
                return tokens;
            };
        };
    }
}();
var LruCache = function() {
    &quot;use strict&quot;;
    function LruCache(maxSize) {
        this.maxSize = _.isNumber(maxSize) ? maxSize : 100;
        this.reset();
        if (this.maxSize &lt;= 0) {
            this.set = this.get = $.noop;
        }
    }
    _.mixin(LruCache.prototype, {
        set: function set(key, val) {
            var tailItem = this.list.tail, node;
            if (this.size &gt;= this.maxSize) {
                this.list.remove(tailItem);
                delete this.hash[tailItem.key];
                this.size--;
            }
            if (node = this.hash[key]) {
                node.val = val;
                this.list.moveToFront(node);
            } else {
                node = new Node(key, val);
                this.list.add(node);
                this.hash[key] = node;
                this.size++;
            }
        },
        get: function get(key) {
            var node = this.hash[key];
            if (node) {
                this.list.moveToFront(node);
                return node.val;
            }
        },
        reset: function reset() {
            this.size = 0;
            this.hash = {};
            this.list = new List();
        }
    });
    function List() {
        this.head = this.tail = null;
    }
    _.mixin(List.prototype, {
        add: function add(node) {
            if (this.head) {
                node.next = this.head;
                this.head.prev = node;
            }
            this.head = node;
            this.tail = this.tail || node;
        },
        remove: function remove(node) {
            node.prev ? node.prev.next = node.next : this.head = node.next;
            node.next ? node.next.prev = node.prev : this.tail = node.prev;
        },
        moveToFront: function(node) {
            this.remove(node);
            this.add(node);
        }
    });
    function Node(key, val) {
        this.key = key;
        this.val = val;
        this.prev = this.next = null;
    }
    return LruCache;
}();
var PersistentStorage = function() {
    &quot;use strict&quot;;
    var LOCAL_STORAGE;
    try {
        LOCAL_STORAGE = window.localStorage;
        LOCAL_STORAGE.setItem(&quot;~~~&quot;, &quot;!&quot;);
        LOCAL_STORAGE.removeItem(&quot;~~~&quot;);
    } catch (err) {
        LOCAL_STORAGE = null;
    }
    function PersistentStorage(namespace, override) {
        this.prefix = [ &quot;__&quot;, namespace, &quot;__&quot; ].join(&quot;&quot;);
        this.ttlKey = &quot;__ttl__&quot;;
        this.keyMatcher = new RegExp(&quot;^&quot; + _.escapeRegExChars(this.prefix));
        this.ls = override || LOCAL_STORAGE;
        !this.ls &amp;&amp; this._noop();
    }
    _.mixin(PersistentStorage.prototype, {
        _prefix: function(key) {
            return this.prefix + key;
        },
        _ttlKey: function(key) {
            return this._prefix(key) + this.ttlKey;
        },
        _noop: function() {
            this.get = this.set = this.remove = this.clear = this.isExpired = _.noop;
        },
        _safeSet: function(key, val) {
            try {
                this.ls.setItem(key, val);
            } catch (err) {
                if (err.name === &quot;QuotaExceededError&quot;) {
                    this.clear();
                    this._noop();
                }
            }
        },
        get: function(key) {
            if (this.isExpired(key)) {
                this.remove(key);
            }
            return decode(this.ls.getItem(this._prefix(key)));
        },
        set: function(key, val, ttl) {
            if (_.isNumber(ttl)) {
                this._safeSet(this._ttlKey(key), encode(now() + ttl));
            } else {
                this.ls.removeItem(this._ttlKey(key));
            }
            return this._safeSet(this._prefix(key), encode(val));
        },
        remove: function(key) {
            this.ls.removeItem(this._ttlKey(key));
            this.ls.removeItem(this._prefix(key));
            return this;
        },
        clear: function() {
            var i, keys = gatherMatchingKeys(this.keyMatcher);
            for (i = keys.length; i--; ) {
                this.remove(keys[i]);
            }
            return this;
        },
        isExpired: function(key) {
            var ttl = decode(this.ls.getItem(this._ttlKey(key)));
            return _.isNumber(ttl) &amp;&amp; now() &gt; ttl ? true : false;
        }
    });
    return PersistentStorage;
    function now() {
        return new Date().getTime();
    }
    function encode(val) {
        return JSON.stringify(_.isUndefined(val) ? null : val);
    }
    function decode(val) {
        return $.parseJSON(val);
    }
    function gatherMatchingKeys(keyMatcher) {
        var i, key, keys = [], len = LOCAL_STORAGE.length;
        for (i = 0; i &lt; len; i++) {
            if ((key = LOCAL_STORAGE.key(i)).match(keyMatcher)) {
                keys.push(key.replace(keyMatcher, &quot;&quot;));
            }
        }
        return keys;
    }
}();
var Transport = function() {
    &quot;use strict&quot;;
    var pendingRequestsCount = 0, pendingRequests = {}, maxPendingRequests = 6, sharedCache = new LruCache(10);
    function Transport(o) {
        o = o || {};
        this.cancelled = false;
        this.lastReq = null;
        this._send = o.transport;
        this._get = o.limiter ? o.limiter(this._get) : this._get;
        this._cache = o.cache === false ? new LruCache(0) : sharedCache;
    }
    Transport.setMaxPendingRequests = function setMaxPendingRequests(num) {
        maxPendingRequests = num;
    };
    Transport.resetCache = function resetCache() {
        sharedCache.reset();
    };
    _.mixin(Transport.prototype, {
        _fingerprint: function fingerprint(o) {
            o = o || {};
            return o.url + o.type + $.param(o.data || {});
        },
        _get: function(o, cb) {
            var that = this, fingerprint, jqXhr;
            fingerprint = this._fingerprint(o);
            if (this.cancelled || fingerprint !== this.lastReq) {
                return;
            }
            if (jqXhr = pendingRequests[fingerprint]) {
                jqXhr.done(done).fail(fail);
            } else if (pendingRequestsCount &lt; maxPendingRequests) {
                pendingRequestsCount++;
                pendingRequests[fingerprint] = this._send(o).done(done).fail(fail).always(always);
            } else {
                this.onDeckRequestArgs = [].slice.call(arguments, 0);
            }
            function done(resp) {
                cb(null, resp);
                that._cache.set(fingerprint, resp);
            }
            function fail() {
                cb(true);
            }
            function always() {
                pendingRequestsCount--;
                delete pendingRequests[fingerprint];
                if (that.onDeckRequestArgs) {
                    that._get.apply(that, that.onDeckRequestArgs);
                    that.onDeckRequestArgs = null;
                }
            }
        },
        get: function(o, cb) {
            var resp, fingerprint;
            cb = cb || $.noop;
            o = _.isString(o) ? {
                url: o
            } : o || {};
            fingerprint = this._fingerprint(o);
            this.cancelled = false;
            this.lastReq = fingerprint;
            if (resp = this._cache.get(fingerprint)) {
                cb(null, resp);
            } else {
                this._get(o, cb);
            }
        },
        cancel: function() {
            this.cancelled = true;
        }
    });
    return Transport;
}();
var SearchIndex = window.SearchIndex = function() {
    &quot;use strict&quot;;
    var CHILDREN = &quot;c&quot;, IDS = &quot;i&quot;;
    function SearchIndex(o) {
        o = o || {};
        if (!o.datumTokenizer || !o.queryTokenizer) {
            $.error(&quot;datumTokenizer and queryTokenizer are both required&quot;);
        }
        this.identify = o.identify || _.stringify;
        this.datumTokenizer = o.datumTokenizer;
        this.queryTokenizer = o.queryTokenizer;
        this.reset();
    }
    _.mixin(SearchIndex.prototype, {
        bootstrap: function bootstrap(o) {
            this.datums = o.datums;
            this.trie = o.trie;
        },
        add: function(data) {
            var that = this;
            data = _.isArray(data) ? data : [ data ];
            _.each(data, function(datum) {
                var id, tokens;
                that.datums[id = that.identify(datum)] = datum;
                tokens = normalizeTokens(that.datumTokenizer(datum));
                _.each(tokens, function(token) {
                    var node, chars, ch;
                    node = that.trie;
                    chars = token.split(&quot;&quot;);
                    while (ch = chars.shift()) {
                        node = node[CHILDREN][ch] || (node[CHILDREN][ch] = newNode());
                        node[IDS].push(id);
                    }
                });
            });
        },
        get: function get(ids) {
            var that = this;
            return _.map(ids, function(id) {
                return that.datums[id];
            });
        },
        search: function search(query) {
            var that = this, tokens, matches;
            tokens = normalizeTokens(this.queryTokenizer(query));
            _.each(tokens, function(token) {
                var node, chars, ch, ids;
                if (matches &amp;&amp; matches.length === 0) {
                    return false;
                }
                node = that.trie;
                chars = token.split(&quot;&quot;);
                while (node &amp;&amp; (ch = chars.shift())) {
                    node = node[CHILDREN][ch];
                }
                if (node &amp;&amp; chars.length === 0) {
                    ids = node[IDS].slice(0);
                    matches = matches ? getIntersection(matches, ids) : ids;
                } else {
                    matches = [];
                    return false;
                }
            });
            return matches ? _.map(unique(matches), function(id) {
                return that.datums[id];
            }) : [];
        },
        all: function all() {
            var values = [];
            for (var key in this.datums) {
                values.push(this.datums[key]);
            }
            return values;
        },
        reset: function reset() {
            this.datums = {};
            this.trie = newNode();
        },
        serialize: function serialize() {
            return {
                datums: this.datums,
                trie: this.trie
            };
        }
    });
    return SearchIndex;
    function normalizeTokens(tokens) {
        tokens = _.filter(tokens, function(token) {
            return !!token;
        });
        tokens = _.map(tokens, function(token) {
            return token.toLowerCase();
        });
        return tokens;
    }
    function newNode() {
        var node = {};
        node[IDS] = [];
        node[CHILDREN] = {};
        return node;
    }
    function unique(array) {
        var seen = {}, uniques = [];
        for (var i = 0, len = array.length; i &lt; len; i++) {
            if (!seen[array[i]]) {
                seen[array[i]] = true;
                uniques.push(array[i]);
            }
        }
        return uniques;
    }
    function getIntersection(arrayA, arrayB) {
        var ai = 0, bi = 0, intersection = [];
        arrayA = arrayA.sort();
        arrayB = arrayB.sort();
        var lenArrayA = arrayA.length, lenArrayB = arrayB.length;
        while (ai &lt; lenArrayA &amp;&amp; bi &lt; lenArrayB) {
            if (arrayA[ai] &lt; arrayB[bi]) {
                ai++;
            } else if (arrayA[ai] &gt; arrayB[bi]) {
                bi++;
            } else {
                intersection.push(arrayA[ai]);
                ai++;
                bi++;
            }
        }
        return intersection;
    }
}();
var Prefetch = function() {
    &quot;use strict&quot;;
    var keys;
    keys = {
        data: &quot;data&quot;,
        protocol: &quot;protocol&quot;,
        thumbprint: &quot;thumbprint&quot;
    };
    function Prefetch(o) {
        this.url = o.url;
        this.ttl = o.ttl;
        this.cache = o.cache;
        this.prepare = o.prepare;
        this.transform = o.transform;
        this.transport = o.transport;
        this.thumbprint = o.thumbprint;
        this.storage = new PersistentStorage(o.cacheKey);
    }
    _.mixin(Prefetch.prototype, {
        _settings: function settings() {
            return {
                url: this.url,
                type: &quot;GET&quot;,
                dataType: &quot;json&quot;
            };
        },
        store: function store(data) {
            if (!this.cache) {
                return;
            }
            this.storage.set(keys.data, data, this.ttl);
            this.storage.set(keys.protocol, location.protocol, this.ttl);
            this.storage.set(keys.thumbprint, this.thumbprint, this.ttl);
        },
        fromCache: function fromCache() {
            var stored = {}, isExpired;
            if (!this.cache) {
                return null;
            }
            stored.data = this.storage.get(keys.data);
            stored.protocol = this.storage.get(keys.protocol);
            stored.thumbprint = this.storage.get(keys.thumbprint);
            isExpired = stored.thumbprint !== this.thumbprint || stored.protocol !== location.protocol;
            return stored.data &amp;&amp; !isExpired ? stored.data : null;
        },
        fromNetwork: function(cb) {
            var that = this, settings;
            if (!cb) {
                return;
            }
            settings = this.prepare(this._settings());
            this.transport(settings).fail(onError).done(onResponse);
            function onError() {
                cb(true);
            }
            function onResponse(resp) {
                cb(null, that.transform(resp));
            }
        },
        clear: function clear() {
            this.storage.clear();
            return this;
        }
    });
    return Prefetch;
}();
var Remote = function() {
    &quot;use strict&quot;;
    function Remote(o) {
        this.url = o.url;
        this.prepare = o.prepare;
        this.transform = o.transform;
        this.transport = new Transport({
            cache: o.cache,
            limiter: o.limiter,
            transport: o.transport
        });
    }
    _.mixin(Remote.prototype, {
        _settings: function settings() {
            return {
                url: this.url,
                type: &quot;GET&quot;,
                dataType: &quot;json&quot;
            };
        },
        get: function get(query, cb) {
            var that = this, settings;
            if (!cb) {
                return;
            }
            query = query || &quot;&quot;;
            settings = this.prepare(query, this._settings());
            return this.transport.get(settings, onResponse);
            function onResponse(err, resp) {
                err ? cb([]) : cb(that.transform(resp));
            }
        },
        cancelLastRequest: function cancelLastRequest() {
            this.transport.cancel();
        }
    });
    return Remote;
}();
var oParser = function() {
    &quot;use strict&quot;;
    return function parse(o) {
        var defaults, sorter;
        defaults = {
            initialize: true,
            identify: _.stringify,
            datumTokenizer: null,
            queryTokenizer: null,
            sufficient: 5,
            sorter: null,
            local: [],
            prefetch: null,
            remote: null
        };
        o = _.mixin(defaults, o || {});
        !o.datumTokenizer &amp;&amp; $.error(&quot;datumTokenizer is required&quot;);
        !o.queryTokenizer &amp;&amp; $.error(&quot;queryTokenizer is required&quot;);
        sorter = o.sorter;
        o.sorter = sorter ? function(x) {
            return x.sort(sorter);
        } : _.identity;
        o.local = _.isFunction(o.local) ? o.local() : o.local;
        o.prefetch = parsePrefetch(o.prefetch);
        o.remote = parseRemote(o.remote);
        return o;
    };
    function parsePrefetch(o) {
        var defaults;
        if (!o) {
            return null;
        }
        defaults = {
            url: null,
            ttl: 24 * 60 * 60 * 1e3,
            cache: true,
            cacheKey: null,
            thumbprint: &quot;&quot;,
            prepare: _.identity,
            transform: _.identity,
            transport: null
        };
        o = _.isString(o) ? {
            url: o
        } : o;
        o = _.mixin(defaults, o);
        !o.url &amp;&amp; $.error(&quot;prefetch requires url to be set&quot;);
        o.transform = o.filter || o.transform;
        o.cacheKey = o.cacheKey || o.url;
        o.thumbprint = VERSION + o.thumbprint;
        o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;
        return o;
    }
    function parseRemote(o) {
        var defaults;
        if (!o) {
            return;
        }
        defaults = {
            url: null,
            cache: true,
            prepare: null,
            replace: null,
            wildcard: null,
            limiter: null,
            rateLimitBy: &quot;debounce&quot;,
            rateLimitWait: 300,
            transform: _.identity,
            transport: null
        };
        o = _.isString(o) ? {
            url: o
        } : o;
        o = _.mixin(defaults, o);
        !o.url &amp;&amp; $.error(&quot;remote requires url to be set&quot;);
        o.transform = o.filter || o.transform;
        o.prepare = toRemotePrepare(o);
        o.limiter = toLimiter(o);
        o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;
        delete o.replace;
        delete o.wildcard;
        delete o.rateLimitBy;
        delete o.rateLimitWait;
        return o;
    }
    function toRemotePrepare(o) {
        var prepare, replace, wildcard;
        prepare = o.prepare;
        replace = o.replace;
        wildcard = o.wildcard;
        if (prepare) {
            return prepare;
        }
        if (replace) {
            prepare = prepareByReplace;
        } else if (o.wildcard) {
            prepare = prepareByWildcard;
        } else {
            prepare = idenityPrepare;
        }
        return prepare;
        function prepareByReplace(query, settings) {
            settings.url = replace(settings.url, query);
            return settings;
        }
        function prepareByWildcard(query, settings) {
            settings.url = settings.url.replace(wildcard, encodeURIComponent(query));
            return settings;
        }
        function idenityPrepare(query, settings) {
            return settings;
        }
    }
    function toLimiter(o) {
        var limiter, method, wait;
        limiter = o.limiter;
        method = o.rateLimitBy;
        wait = o.rateLimitWait;
        if (!limiter) {
            limiter = /^throttle$/i.test(method) ? throttle(wait) : debounce(wait);
        }
        return limiter;
        function debounce(wait) {
            return function debounce(fn) {
                return _.debounce(fn, wait);
            };
        }
        function throttle(wait) {
            return function throttle(fn) {
                return _.throttle(fn, wait);
            };
        }
    }
    function callbackToDeferred(fn) {
        return function wrapper(o) {
            var deferred = $.Deferred();
            fn(o, onSuccess, onError);
            return deferred;
            function onSuccess(resp) {
                _.defer(function() {
                    deferred.resolve(resp);
                });
            }
            function onError(err) {
                _.defer(function() {
                    deferred.reject(err);
                });
            }
        };
    }
}();
var Bloodhound = function() {
    &quot;use strict&quot;;
    var old;
    old = window &amp;&amp; window.Bloodhound;
    function Bloodhound(o) {
        o = oParser(o);
        this.sorter = o.sorter;
        this.identify = o.identify;
        this.sufficient = o.sufficient;
        this.local = o.local;
        this.remote = o.remote ? new Remote(o.remote) : null;
        this.prefetch = o.prefetch ? new Prefetch(o.prefetch) : null;
        this.index = new SearchIndex({
            identify: this.identify,
            datumTokenizer: o.datumTokenizer,
            queryTokenizer: o.queryTokenizer
        });
        o.initialize !== false &amp;&amp; this.initialize();
    }
    Bloodhound.noConflict = function noConflict() {
        window &amp;&amp; (window.Bloodhound = old);
        return Bloodhound;
    };
    Bloodhound.tokenizers = tokenizers;
    _.mixin(Bloodhound.prototype, {
        __ttAdapter: function ttAdapter() {
            var that = this;
            return this.remote ? withAsync : withoutAsync;
            function withAsync(query, sync, async) {
                return that.search(query, sync, async);
            }
            function withoutAsync(query, sync) {
                return that.search(query, sync);
            }
        },
        _loadPrefetch: function loadPrefetch() {
            var that = this, deferred, serialized;
            deferred = $.Deferred();
            if (!this.prefetch) {
                deferred.resolve();
            } else if (serialized = this.prefetch.fromCache()) {
                this.index.bootstrap(serialized);
                deferred.resolve();
            } else {
                this.prefetch.fromNetwork(done);
            }
            return deferred.promise();
            function done(err, data) {
                if (err) {
                    return deferred.reject();
                }
                that.add(data);
                that.prefetch.store(that.index.serialize());
                deferred.resolve();
            }
        },
        _initialize: function initialize() {
            var that = this, deferred;
            this.clear();
            (this.initPromise = this._loadPrefetch()).done(addLocalToIndex);
            return this.initPromise;
            function addLocalToIndex() {
                that.add(that.local);
            }
        },
        initialize: function initialize(force) {
            return !this.initPromise || force ? this._initialize() : this.initPromise;
        },
        add: function add(data) {
            this.index.add(data);
            return this;
        },
        get: function get(ids) {
            ids = _.isArray(ids) ? ids : [].slice.call(arguments);
            return this.index.get(ids);
        },
        search: function search(query, sync, async) {
            var that = this, local;
            local = this.sorter(this.index.search(query));
            sync(this.remote ? local.slice() : local);
            if (this.remote &amp;&amp; local.length &lt; this.sufficient) {
                this.remote.get(query, processRemote);
            } else if (this.remote) {
                this.remote.cancelLastRequest();
            }
            return this;
            function processRemote(remote) {
                var nonDuplicates = [];
                _.each(remote, function(r) {
                    !_.some(local, function(l) {
                        return that.identify(r) === that.identify(l);
                    }) &amp;&amp; nonDuplicates.push(r);
                });
                async &amp;&amp; async(nonDuplicates);
            }
        },
        all: function all() {
            return this.index.all();
        },
        clear: function clear() {
            this.index.reset();
            return this;
        },
        clearPrefetchCache: function clearPrefetchCache() {
            this.prefetch &amp;&amp; this.prefetch.clear();
            return this;
        },
        clearRemoteCache: function clearRemoteCache() {
            Transport.resetCache();
            return this;
        },
        ttAdapter: function ttAdapter() {
            return this.__ttAdapter();
        }
    });
    return Bloodhound;
}();
return Bloodhound;</pre>

<p>});</p>

<p>(function(root, factory) {</p>

<pre>if (typeof define === &quot;function&quot; &amp;&amp; define.amd) {
    define(&quot;typeahead.js&quot;, [ &quot;jquery&quot; ], function(a0) {
        return factory(a0);
    });
} else if (typeof exports === &quot;object&quot;) {
    module.exports = factory(require(&quot;jquery&quot;));
} else {
    factory(jQuery);
}</pre>

<p>})(this, function($) {</p>

<pre>var _ = function() {
    &quot;use strict&quot;;
    return {
        isMsie: function() {
            return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] : false;
        },
        isBlankString: function(str) {
            return !str || /^\s*$/.test(str);
        },
        escapeRegExChars: function(str) {
            return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, &quot;\\$&amp;&quot;);
        },
        isString: function(obj) {
            return typeof obj === &quot;string&quot;;
        },
        isNumber: function(obj) {
            return typeof obj === &quot;number&quot;;
        },
        isArray: $.isArray,
        isFunction: $.isFunction,
        isObject: $.isPlainObject,
        isUndefined: function(obj) {
            return typeof obj === &quot;undefined&quot;;
        },
        isElement: function(obj) {
            return !!(obj &amp;&amp; obj.nodeType === 1);
        },
        isJQuery: function(obj) {
            return obj instanceof $;
        },
        toStr: function toStr(s) {
            return _.isUndefined(s) || s === null ? &quot;&quot; : s + &quot;&quot;;
        },
        bind: $.proxy,
        each: function(collection, cb) {
            $.each(collection, reverseArgs);
            function reverseArgs(index, value) {
                return cb(value, index);
            }
        },
        map: $.map,
        filter: $.grep,
        every: function(obj, test) {
            var result = true;
            if (!obj) {
                return result;
            }
            $.each(obj, function(key, val) {
                if (!(result = test.call(null, val, key, obj))) {
                    return false;
                }
            });
            return !!result;
        },
        some: function(obj, test) {
            var result = false;
            if (!obj) {
                return result;
            }
            $.each(obj, function(key, val) {
                if (result = test.call(null, val, key, obj)) {
                    return false;
                }
            });
            return !!result;
        },
        mixin: $.extend,
        identity: function(x) {
            return x;
        },
        clone: function(obj) {
            return $.extend(true, {}, obj);
        },
        getIdGenerator: function() {
            var counter = 0;
            return function() {
                return counter++;
            };
        },
        templatify: function templatify(obj) {
            return $.isFunction(obj) ? obj : template;
            function template() {
                return String(obj);
            }
        },
        defer: function(fn) {
            setTimeout(fn, 0);
        },
        debounce: function(func, wait, immediate) {
            var timeout, result;
            return function() {
                var context = this, args = arguments, later, callNow;
                later = function() {
                    timeout = null;
                    if (!immediate) {
                        result = func.apply(context, args);
                    }
                };
                callNow = immediate &amp;&amp; !timeout;
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
                if (callNow) {
                    result = func.apply(context, args);
                }
                return result;
            };
        },
        throttle: function(func, wait) {
            var context, args, timeout, result, previous, later;
            previous = 0;
            later = function() {
                previous = new Date();
                timeout = null;
                result = func.apply(context, args);
            };
            return function() {
                var now = new Date(), remaining = wait - (now - previous);
                context = this;
                args = arguments;
                if (remaining &lt;= 0) {
                    clearTimeout(timeout);
                    timeout = null;
                    previous = now;
                    result = func.apply(context, args);
                } else if (!timeout) {
                    timeout = setTimeout(later, remaining);
                }
                return result;
            };
        },
        stringify: function(val) {
            return _.isString(val) ? val : JSON.stringify(val);
        },
        noop: function() {}
    };
}();
var WWW = function() {
    &quot;use strict&quot;;
    var defaultClassNames = {
        wrapper: &quot;twitter-typeahead&quot;,
        input: &quot;tt-input&quot;,
        hint: &quot;tt-hint&quot;,
        menu: &quot;tt-menu&quot;,
        dataset: &quot;tt-dataset&quot;,
        suggestion: &quot;tt-suggestion&quot;,
        selectable: &quot;tt-selectable&quot;,
        empty: &quot;tt-empty&quot;,
        open: &quot;tt-open&quot;,
        cursor: &quot;tt-cursor&quot;,
        highlight: &quot;tt-highlight&quot;
    };
    return build;
    function build(o) {
        var www, classes;
        classes = _.mixin({}, defaultClassNames, o);
        www = {
            css: buildCss(),
            classes: classes,
            html: buildHtml(classes),
            selectors: buildSelectors(classes)
        };
        return {
            css: www.css,
            html: www.html,
            classes: www.classes,
            selectors: www.selectors,
            mixin: function(o) {
                _.mixin(o, www);
            }
        };
    }
    function buildHtml(c) {
        return {
            wrapper: &#39;&lt;span class=&quot;&#39; + c.wrapper + &#39;&quot;&gt;&lt;/span&gt;&#39;,
            menu: &#39;&lt;div class=&quot;&#39; + c.menu + &#39;&quot;&gt;&lt;/div&gt;&#39;
        };
    }
    function buildSelectors(classes) {
        var selectors = {};
        _.each(classes, function(v, k) {
            selectors[k] = &quot;.&quot; + v;
        });
        return selectors;
    }
    function buildCss() {
        var css = {
            wrapper: {
                position: &quot;relative&quot;,
                display: &quot;inline-block&quot;
            },
            hint: {
                position: &quot;absolute&quot;,
                top: &quot;0&quot;,
                left: &quot;0&quot;,
                borderColor: &quot;transparent&quot;,
                boxShadow: &quot;none&quot;,
                opacity: &quot;1&quot;
            },
            input: {
                position: &quot;relative&quot;,
                verticalAlign: &quot;top&quot;,
                backgroundColor: &quot;transparent&quot;
            },
            inputWithNoHint: {
                position: &quot;relative&quot;,
                verticalAlign: &quot;top&quot;
            },
            menu: {
                position: &quot;absolute&quot;,
                top: &quot;100%&quot;,
                left: &quot;0&quot;,
                zIndex: &quot;100&quot;,
                display: &quot;none&quot;
            },
            ltr: {
                left: &quot;0&quot;,
                right: &quot;auto&quot;
            },
            rtl: {
                left: &quot;auto&quot;,
                right: &quot; 0&quot;
            }
        };
        if (_.isMsie()) {
            _.mixin(css.input, {
                backgroundImage: &quot;url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)&quot;
            });
        }
        return css;
    }
}();
var EventBus = function() {
    &quot;use strict&quot;;
    var namespace, deprecationMap;
    namespace = &quot;typeahead:&quot;;
    deprecationMap = {
        render: &quot;rendered&quot;,
        cursorchange: &quot;cursorchanged&quot;,
        select: &quot;selected&quot;,
        autocomplete: &quot;autocompleted&quot;
    };
    function EventBus(o) {
        if (!o || !o.el) {
            $.error(&quot;EventBus initialized without el&quot;);
        }
        this.$el = $(o.el);
    }
    _.mixin(EventBus.prototype, {
        _trigger: function(type, args) {
            var $e;
            $e = $.Event(namespace + type);
            (args = args || []).unshift($e);
            this.$el.trigger.apply(this.$el, args);
            return $e;
        },
        before: function(type) {
            var args, $e;
            args = [].slice.call(arguments, 1);
            $e = this._trigger(&quot;before&quot; + type, args);
            return $e.isDefaultPrevented();
        },
        trigger: function(type) {
            var deprecatedType;
            this._trigger(type, [].slice.call(arguments, 1));
            if (deprecatedType = deprecationMap[type]) {
                this._trigger(deprecatedType, [].slice.call(arguments, 1));
            }
        }
    });
    return EventBus;
}();
var EventEmitter = function() {
    &quot;use strict&quot;;
    var splitter = /\s+/, nextTick = getNextTick();
    return {
        onSync: onSync,
        onAsync: onAsync,
        off: off,
        trigger: trigger
    };
    function on(method, types, cb, context) {
        var type;
        if (!cb) {
            return this;
        }
        types = types.split(splitter);
        cb = context ? bindContext(cb, context) : cb;
        this._callbacks = this._callbacks || {};
        while (type = types.shift()) {
            this._callbacks[type] = this._callbacks[type] || {
                sync: [],
                async: []
            };
            this._callbacks[type][method].push(cb);
        }
        return this;
    }
    function onAsync(types, cb, context) {
        return on.call(this, &quot;async&quot;, types, cb, context);
    }
    function onSync(types, cb, context) {
        return on.call(this, &quot;sync&quot;, types, cb, context);
    }
    function off(types) {
        var type;
        if (!this._callbacks) {
            return this;
        }
        types = types.split(splitter);
        while (type = types.shift()) {
            delete this._callbacks[type];
        }
        return this;
    }
    function trigger(types) {
        var type, callbacks, args, syncFlush, asyncFlush;
        if (!this._callbacks) {
            return this;
        }
        types = types.split(splitter);
        args = [].slice.call(arguments, 1);
        while ((type = types.shift()) &amp;&amp; (callbacks = this._callbacks[type])) {
            syncFlush = getFlush(callbacks.sync, this, [ type ].concat(args));
            asyncFlush = getFlush(callbacks.async, this, [ type ].concat(args));
            syncFlush() &amp;&amp; nextTick(asyncFlush);
        }
        return this;
    }
    function getFlush(callbacks, context, args) {
        return flush;
        function flush() {
            var cancelled;
            for (var i = 0, len = callbacks.length; !cancelled &amp;&amp; i &lt; len; i += 1) {
                cancelled = callbacks[i].apply(context, args) === false;
            }
            return !cancelled;
        }
    }
    function getNextTick() {
        var nextTickFn;
        if (window.setImmediate) {
            nextTickFn = function nextTickSetImmediate(fn) {
                setImmediate(function() {
                    fn();
                });
            };
        } else {
            nextTickFn = function nextTickSetTimeout(fn) {
                setTimeout(function() {
                    fn();
                }, 0);
            };
        }
        return nextTickFn;
    }
    function bindContext(fn, context) {
        return fn.bind ? fn.bind(context) : function() {
            fn.apply(context, [].slice.call(arguments, 0));
        };
    }
}();
var highlight = function(doc) {
    &quot;use strict&quot;;
    var defaults = {
        node: null,
        pattern: null,
        tagName: &quot;strong&quot;,
        className: null,
        wordsOnly: false,
        caseSensitive: false
    };
    return function hightlight(o) {
        var regex;
        o = _.mixin({}, defaults, o);
        if (!o.node || !o.pattern) {
            return;
        }
        o.pattern = _.isArray(o.pattern) ? o.pattern : [ o.pattern ];
        regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly);
        traverse(o.node, hightlightTextNode);
        function hightlightTextNode(textNode) {
            var match, patternNode, wrapperNode;
            if (match = regex.exec(textNode.data)) {
                wrapperNode = doc.createElement(o.tagName);
                o.className &amp;&amp; (wrapperNode.className = o.className);
                patternNode = textNode.splitText(match.index);
                patternNode.splitText(match[0].length);
                wrapperNode.appendChild(patternNode.cloneNode(true));
                textNode.parentNode.replaceChild(wrapperNode, patternNode);
            }
            return !!match;
        }
        function traverse(el, hightlightTextNode) {
            var childNode, TEXT_NODE_TYPE = 3;
            for (var i = 0; i &lt; el.childNodes.length; i++) {
                childNode = el.childNodes[i];
                if (childNode.nodeType === TEXT_NODE_TYPE) {
                    i += hightlightTextNode(childNode) ? 1 : 0;
                } else {
                    traverse(childNode, hightlightTextNode);
                }
            }
        }
    };
    function getRegex(patterns, caseSensitive, wordsOnly) {
        var escapedPatterns = [], regexStr;
        for (var i = 0, len = patterns.length; i &lt; len; i++) {
            escapedPatterns.push(_.escapeRegExChars(patterns[i]));
        }
        regexStr = wordsOnly ? &quot;\\b(&quot; + escapedPatterns.join(&quot;|&quot;) + &quot;)\\b&quot; : &quot;(&quot; + escapedPatterns.join(&quot;|&quot;) + &quot;)&quot;;
        return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, &quot;i&quot;);
    }
}(window.document);
var Input = function() {
    &quot;use strict&quot;;
    var specialKeyCodeMap;
    specialKeyCodeMap = {
        9: &quot;tab&quot;,
        27: &quot;esc&quot;,
        37: &quot;left&quot;,
        39: &quot;right&quot;,
        13: &quot;enter&quot;,
        38: &quot;up&quot;,
        40: &quot;down&quot;
    };
    function Input(o, www) {
        o = o || {};
        if (!o.input) {
            $.error(&quot;input is missing&quot;);
        }
        www.mixin(this);
        this.$hint = $(o.hint);
        this.$input = $(o.input);
        this.query = this.$input.val();
        this.queryWhenFocused = this.hasFocus() ? this.query : null;
        this.$overflowHelper = buildOverflowHelper(this.$input);
        this._checkLanguageDirection();
        if (this.$hint.length === 0) {
            this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;
        }
    }
    Input.normalizeQuery = function(str) {
        return _.toStr(str).replace(/^\s*/g, &quot;&quot;).replace(/\s{2,}/g, &quot; &quot;);
    };
    _.mixin(Input.prototype, EventEmitter, {
        _onBlur: function onBlur() {
            this.resetInputValue();
            this.trigger(&quot;blurred&quot;);
        },
        _onFocus: function onFocus() {
            this.queryWhenFocused = this.query;
            this.trigger(&quot;focused&quot;);
        },
        _onKeydown: function onKeydown($e) {
            var keyName = specialKeyCodeMap[$e.which || $e.keyCode];
            this._managePreventDefault(keyName, $e);
            if (keyName &amp;&amp; this._shouldTrigger(keyName, $e)) {
                this.trigger(keyName + &quot;Keyed&quot;, $e);
            }
        },
        _onInput: function onInput() {
            this._setQuery(this.getInputValue());
            this.clearHintIfInvalid();
            this._checkLanguageDirection();
        },
        _managePreventDefault: function managePreventDefault(keyName, $e) {
            var preventDefault;
            switch (keyName) {
              case &quot;up&quot;:
              case &quot;down&quot;:
                preventDefault = !withModifier($e);
                break;

              default:
                preventDefault = false;
            }
            preventDefault &amp;&amp; $e.preventDefault();
        },
        _shouldTrigger: function shouldTrigger(keyName, $e) {
            var trigger;
            switch (keyName) {
              case &quot;tab&quot;:
                trigger = !withModifier($e);
                break;

              default:
                trigger = true;
            }
            return trigger;
        },
        _checkLanguageDirection: function checkLanguageDirection() {
            var dir = (this.$input.css(&quot;direction&quot;) || &quot;ltr&quot;).toLowerCase();
            if (this.dir !== dir) {
                this.dir = dir;
                this.$hint.attr(&quot;dir&quot;, dir);
                this.trigger(&quot;langDirChanged&quot;, dir);
            }
        },
        _setQuery: function setQuery(val, silent) {
            var areEquivalent, hasDifferentWhitespace;
            areEquivalent = areQueriesEquivalent(val, this.query);
            hasDifferentWhitespace = areEquivalent ? this.query.length !== val.length : false;
            this.query = val;
            if (!silent &amp;&amp; !areEquivalent) {
                this.trigger(&quot;queryChanged&quot;, this.query);
            } else if (!silent &amp;&amp; hasDifferentWhitespace) {
                this.trigger(&quot;whitespaceChanged&quot;, this.query);
            }
        },
        bind: function() {
            var that = this, onBlur, onFocus, onKeydown, onInput;
            onBlur = _.bind(this._onBlur, this);
            onFocus = _.bind(this._onFocus, this);
            onKeydown = _.bind(this._onKeydown, this);
            onInput = _.bind(this._onInput, this);
            this.$input.on(&quot;blur.tt&quot;, onBlur).on(&quot;focus.tt&quot;, onFocus).on(&quot;keydown.tt&quot;, onKeydown);
            if (!_.isMsie() || _.isMsie() &gt; 9) {
                this.$input.on(&quot;input.tt&quot;, onInput);
            } else {
                this.$input.on(&quot;keydown.tt keypress.tt cut.tt paste.tt&quot;, function($e) {
                    if (specialKeyCodeMap[$e.which || $e.keyCode]) {
                        return;
                    }
                    _.defer(_.bind(that._onInput, that, $e));
                });
            }
            return this;
        },
        focus: function focus() {
            this.$input.focus();
        },
        blur: function blur() {
            this.$input.blur();
        },
        getLangDir: function getLangDir() {
            return this.dir;
        },
        getQuery: function getQuery() {
            return this.query || &quot;&quot;;
        },
        setQuery: function setQuery(val, silent) {
            this.setInputValue(val);
            this._setQuery(val, silent);
        },
        hasQueryChangedSinceLastFocus: function hasQueryChangedSinceLastFocus() {
            return this.query !== this.queryWhenFocused;
        },
        getInputValue: function getInputValue() {
            return this.$input.val();
        },
        setInputValue: function setInputValue(value) {
            this.$input.val(value);
            this.clearHintIfInvalid();
            this._checkLanguageDirection();
        },
        resetInputValue: function resetInputValue() {
            this.setInputValue(this.query);
        },
        getHint: function getHint() {
            return this.$hint.val();
        },
        setHint: function setHint(value) {
            this.$hint.val(value);
        },
        clearHint: function clearHint() {
            this.setHint(&quot;&quot;);
        },
        clearHintIfInvalid: function clearHintIfInvalid() {
            var val, hint, valIsPrefixOfHint, isValid;
            val = this.getInputValue();
            hint = this.getHint();
            valIsPrefixOfHint = val !== hint &amp;&amp; hint.indexOf(val) === 0;
            isValid = val !== &quot;&quot; &amp;&amp; valIsPrefixOfHint &amp;&amp; !this.hasOverflow();
            !isValid &amp;&amp; this.clearHint();
        },
        hasFocus: function hasFocus() {
            return this.$input.is(&quot;:focus&quot;);
        },
        hasOverflow: function hasOverflow() {
            var constraint = this.$input.width() - 2;
            this.$overflowHelper.text(this.getInputValue());
            return this.$overflowHelper.width() &gt;= constraint;
        },
        isCursorAtEnd: function() {
            var valueLength, selectionStart, range;
            valueLength = this.$input.val().length;
            selectionStart = this.$input[0].selectionStart;
            if (_.isNumber(selectionStart)) {
                return selectionStart === valueLength;
            } else if (document.selection) {
                range = document.selection.createRange();
                range.moveStart(&quot;character&quot;, -valueLength);
                return valueLength === range.text.length;
            }
            return true;
        },
        destroy: function destroy() {
            this.$hint.off(&quot;.tt&quot;);
            this.$input.off(&quot;.tt&quot;);
            this.$overflowHelper.remove();
            this.$hint = this.$input = this.$overflowHelper = $(&quot;&lt;div&gt;&quot;);
        }
    });
    return Input;
    function buildOverflowHelper($input) {
        return $(&#39;&lt;pre aria-hidden=&quot;true&quot;&gt;&lt;/pre&gt;&#39;).css({
            position: &quot;absolute&quot;,
            visibility: &quot;hidden&quot;,
            whiteSpace: &quot;pre&quot;,
            fontFamily: $input.css(&quot;font-family&quot;),
            fontSize: $input.css(&quot;font-size&quot;),
            fontStyle: $input.css(&quot;font-style&quot;),
            fontVariant: $input.css(&quot;font-variant&quot;),
            fontWeight: $input.css(&quot;font-weight&quot;),
            wordSpacing: $input.css(&quot;word-spacing&quot;),
            letterSpacing: $input.css(&quot;letter-spacing&quot;),
            textIndent: $input.css(&quot;text-indent&quot;),
            textRendering: $input.css(&quot;text-rendering&quot;),
            textTransform: $input.css(&quot;text-transform&quot;)
        }).insertAfter($input);
    }
    function areQueriesEquivalent(a, b) {
        return Input.normalizeQuery(a) === Input.normalizeQuery(b);
    }
    function withModifier($e) {
        return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;
    }
}();
var Dataset = function() {
    &quot;use strict&quot;;
    var keys, nameGenerator;
    keys = {
        val: &quot;tt-selectable-display&quot;,
        obj: &quot;tt-selectable-object&quot;
    };
    nameGenerator = _.getIdGenerator();
    function Dataset(o, www) {
        o = o || {};
        o.templates = o.templates || {};
        o.templates.notFound = o.templates.notFound || o.templates.empty;
        if (!o.source) {
            $.error(&quot;missing source&quot;);
        }
        if (!o.node) {
            $.error(&quot;missing node&quot;);
        }
        if (o.name &amp;&amp; !isValidName(o.name)) {
            $.error(&quot;invalid dataset name: &quot; + o.name);
        }
        www.mixin(this);
        this.highlight = !!o.highlight;
        this.name = o.name || nameGenerator();
        this.limit = o.limit || 5;
        this.displayFn = getDisplayFn(o.display || o.displayKey);
        this.templates = getTemplates(o.templates, this.displayFn);
        this.source = o.source.__ttAdapter ? o.source.__ttAdapter() : o.source;
        this.async = _.isUndefined(o.async) ? this.source.length &gt; 2 : !!o.async;
        this._resetLastSuggestion();
        this.$el = $(o.node).addClass(this.classes.dataset).addClass(this.classes.dataset + &quot;-&quot; + this.name);
    }
    Dataset.extractData = function extractData(el) {
        var $el = $(el);
        if ($el.data(keys.obj)) {
            return {
                val: $el.data(keys.val) || &quot;&quot;,
                obj: $el.data(keys.obj) || null
            };
        }
        return null;
    };
    _.mixin(Dataset.prototype, EventEmitter, {
        _overwrite: function overwrite(query, suggestions) {
            suggestions = suggestions || [];
            if (suggestions.length) {
                this._renderSuggestions(query, suggestions);
            } else if (this.async &amp;&amp; this.templates.pending) {
                this._renderPending(query);
            } else if (!this.async &amp;&amp; this.templates.notFound) {
                this._renderNotFound(query);
            } else {
                this._empty();
            }
            this.trigger(&quot;rendered&quot;, this.name, suggestions, false);
        },
        _append: function append(query, suggestions) {
            suggestions = suggestions || [];
            if (suggestions.length &amp;&amp; this.$lastSuggestion.length) {
                this._appendSuggestions(query, suggestions);
            } else if (suggestions.length) {
                this._renderSuggestions(query, suggestions);
            } else if (!this.$lastSuggestion.length &amp;&amp; this.templates.notFound) {
                this._renderNotFound(query);
            }
            this.trigger(&quot;rendered&quot;, this.name, suggestions, true);
        },
        _renderSuggestions: function renderSuggestions(query, suggestions) {
            var $fragment;
            $fragment = this._getSuggestionsFragment(query, suggestions);
            this.$lastSuggestion = $fragment.children().last();
            this.$el.html($fragment).prepend(this._getHeader(query, suggestions)).append(this._getFooter(query, suggestions));
        },
        _appendSuggestions: function appendSuggestions(query, suggestions) {
            var $fragment, $lastSuggestion;
            $fragment = this._getSuggestionsFragment(query, suggestions);
            $lastSuggestion = $fragment.children().last();
            this.$lastSuggestion.after($fragment);
            this.$lastSuggestion = $lastSuggestion;
        },
        _renderPending: function renderPending(query) {
            var template = this.templates.pending;
            this._resetLastSuggestion();
            template &amp;&amp; this.$el.html(template({
                query: query,
                dataset: this.name
            }));
        },
        _renderNotFound: function renderNotFound(query) {
            var template = this.templates.notFound;
            this._resetLastSuggestion();
            template &amp;&amp; this.$el.html(template({
                query: query,
                dataset: this.name
            }));
        },
        _empty: function empty() {
            this.$el.empty();
            this._resetLastSuggestion();
        },
        _getSuggestionsFragment: function getSuggestionsFragment(query, suggestions) {
            var that = this, fragment;
            fragment = document.createDocumentFragment();
            _.each(suggestions, function getSuggestionNode(suggestion) {
                var $el, context;
                context = that._injectQuery(query, suggestion);
                $el = $(that.templates.suggestion(context)).data(keys.obj, suggestion).data(keys.val, that.displayFn(suggestion)).addClass(that.classes.suggestion + &quot; &quot; + that.classes.selectable);
                fragment.appendChild($el[0]);
            });
            this.highlight &amp;&amp; highlight({
                className: this.classes.highlight,
                node: fragment,
                pattern: query
            });
            return $(fragment);
        },
        _getFooter: function getFooter(query, suggestions) {
            return this.templates.footer ? this.templates.footer({
                query: query,
                suggestions: suggestions,
                dataset: this.name
            }) : null;
        },
        _getHeader: function getHeader(query, suggestions) {
            return this.templates.header ? this.templates.header({
                query: query,
                suggestions: suggestions,
                dataset: this.name
            }) : null;
        },
        _resetLastSuggestion: function resetLastSuggestion() {
            this.$lastSuggestion = $();
        },
        _injectQuery: function injectQuery(query, obj) {
            return _.isObject(obj) ? _.mixin({
                _query: query
            }, obj) : obj;
        },
        update: function update(query) {
            var that = this, canceled = false, syncCalled = false, rendered = 0;
            this.cancel();
            this.cancel = function cancel() {
                canceled = true;
                that.cancel = $.noop;
                that.async &amp;&amp; that.trigger(&quot;asyncCanceled&quot;, query);
            };
            this.source(query, sync, async);
            !syncCalled &amp;&amp; sync([]);
            function sync(suggestions) {
                if (syncCalled) {
                    return;
                }
                syncCalled = true;
                suggestions = (suggestions || []).slice(0, that.limit);
                rendered = suggestions.length;
                that._overwrite(query, suggestions);
                if (rendered &lt; that.limit &amp;&amp; that.async) {
                    that.trigger(&quot;asyncRequested&quot;, query);
                }
            }
            function async(suggestions) {
                suggestions = suggestions || [];
                if (!canceled &amp;&amp; rendered &lt; that.limit) {
                    that.cancel = $.noop;
                    rendered += suggestions.length;
                    that._append(query, suggestions.slice(0, that.limit - rendered));
                    that.async &amp;&amp; that.trigger(&quot;asyncReceived&quot;, query);
                }
            }
        },
        cancel: $.noop,
        clear: function clear() {
            this._empty();
            this.cancel();
            this.trigger(&quot;cleared&quot;);
        },
        isEmpty: function isEmpty() {
            return this.$el.is(&quot;:empty&quot;);
        },
        destroy: function destroy() {
            this.$el = $(&quot;&lt;div&gt;&quot;);
        }
    });
    return Dataset;
    function getDisplayFn(display) {
        display = display || _.stringify;
        return _.isFunction(display) ? display : displayFn;
        function displayFn(obj) {
            return obj[display];
        }
    }
    function getTemplates(templates, displayFn) {
        return {
            notFound: templates.notFound &amp;&amp; _.templatify(templates.notFound),
            pending: templates.pending &amp;&amp; _.templatify(templates.pending),
            header: templates.header &amp;&amp; _.templatify(templates.header),
            footer: templates.footer &amp;&amp; _.templatify(templates.footer),
            suggestion: templates.suggestion || suggestionTemplate
        };
        function suggestionTemplate(context) {
            return $(&quot;&lt;div&gt;&quot;).text(displayFn(context));
        }
    }
    function isValidName(str) {
        return /^[_a-zA-Z0-9-]+$/.test(str);
    }
}();
var Menu = function() {
    &quot;use strict&quot;;
    function Menu(o, www) {
        var that = this;
        o = o || {};
        if (!o.node) {
            $.error(&quot;node is required&quot;);
        }
        www.mixin(this);
        this.$node = $(o.node);
        this.query = null;
        this.datasets = _.map(o.datasets, initializeDataset);
        function initializeDataset(oDataset) {
            var node = that.$node.find(oDataset.node).first();
            oDataset.node = node.length ? node : $(&quot;&lt;div&gt;&quot;).appendTo(that.$node);
            return new Dataset(oDataset, www);
        }
    }
    _.mixin(Menu.prototype, EventEmitter, {
        _onSelectableClick: function onSelectableClick($e) {
            this.trigger(&quot;selectableClicked&quot;, $($e.currentTarget));
        },
        _onRendered: function onRendered(type, dataset, suggestions, async) {
            this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());
            this.trigger(&quot;datasetRendered&quot;, dataset, suggestions, async);
        },
        _onCleared: function onCleared() {
            this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());
            this.trigger(&quot;datasetCleared&quot;);
        },
        _propagate: function propagate() {
            this.trigger.apply(this, arguments);
        },
        _allDatasetsEmpty: function allDatasetsEmpty() {
            return _.every(this.datasets, isDatasetEmpty);
            function isDatasetEmpty(dataset) {
                return dataset.isEmpty();
            }
        },
        _getSelectables: function getSelectables() {
            return this.$node.find(this.selectors.selectable);
        },
        _removeCursor: function _removeCursor() {
            var $selectable = this.getActiveSelectable();
            $selectable &amp;&amp; $selectable.removeClass(this.classes.cursor);
        },
        _ensureVisible: function ensureVisible($el) {
            var elTop, elBottom, nodeScrollTop, nodeHeight;
            elTop = $el.position().top;
            elBottom = elTop + $el.outerHeight(true);
            nodeScrollTop = this.$node.scrollTop();
            nodeHeight = this.$node.height() + parseInt(this.$node.css(&quot;paddingTop&quot;), 10) + parseInt(this.$node.css(&quot;paddingBottom&quot;), 10);
            if (elTop &lt; 0) {
                this.$node.scrollTop(nodeScrollTop + elTop);
            } else if (nodeHeight &lt; elBottom) {
                this.$node.scrollTop(nodeScrollTop + (elBottom - nodeHeight));
            }
        },
        bind: function() {
            var that = this, onSelectableClick;
            onSelectableClick = _.bind(this._onSelectableClick, this);
            this.$node.on(&quot;click.tt&quot;, this.selectors.selectable, onSelectableClick);
            _.each(this.datasets, function(dataset) {
                dataset.onSync(&quot;asyncRequested&quot;, that._propagate, that).onSync(&quot;asyncCanceled&quot;, that._propagate, that).onSync(&quot;asyncReceived&quot;, that._propagate, that).onSync(&quot;rendered&quot;, that._onRendered, that).onSync(&quot;cleared&quot;, that._onCleared, that);
            });
            return this;
        },
        isOpen: function isOpen() {
            return this.$node.hasClass(this.classes.open);
        },
        open: function open() {
            this.$node.addClass(this.classes.open);
        },
        close: function close() {
            this.$node.removeClass(this.classes.open);
            this._removeCursor();
        },
        setLanguageDirection: function setLanguageDirection(dir) {
            this.$node.attr(&quot;dir&quot;, dir);
        },
        selectableRelativeToCursor: function selectableRelativeToCursor(delta) {
            var $selectables, $oldCursor, oldIndex, newIndex;
            $oldCursor = this.getActiveSelectable();
            $selectables = this._getSelectables();
            oldIndex = $oldCursor ? $selectables.index($oldCursor) : -1;
            newIndex = oldIndex + delta;
            newIndex = (newIndex + 1) % ($selectables.length + 1) - 1;
            newIndex = newIndex &lt; -1 ? $selectables.length - 1 : newIndex;
            return newIndex === -1 ? null : $selectables.eq(newIndex);
        },
        setCursor: function setCursor($selectable) {
            this._removeCursor();
            if ($selectable = $selectable &amp;&amp; $selectable.first()) {
                $selectable.addClass(this.classes.cursor);
                this._ensureVisible($selectable);
            }
        },
        getSelectableData: function getSelectableData($el) {
            return $el &amp;&amp; $el.length ? Dataset.extractData($el) : null;
        },
        getActiveSelectable: function getActiveSelectable() {
            var $selectable = this._getSelectables().filter(this.selectors.cursor).first();
            return $selectable.length ? $selectable : null;
        },
        getTopSelectable: function getTopSelectable() {
            var $selectable = this._getSelectables().first();
            return $selectable.length ? $selectable : null;
        },
        update: function update(query) {
            var isValidUpdate = query !== this.query;
            if (isValidUpdate) {
                this.query = query;
                _.each(this.datasets, updateDataset);
            }
            return isValidUpdate;
            function updateDataset(dataset) {
                dataset.update(query);
            }
        },
        empty: function empty() {
            _.each(this.datasets, clearDataset);
            this.query = null;
            this.$node.addClass(this.classes.empty);
            function clearDataset(dataset) {
                dataset.clear();
            }
        },
        destroy: function destroy() {
            this.$node.off(&quot;.tt&quot;);
            this.$node = $(&quot;&lt;div&gt;&quot;);
            _.each(this.datasets, destroyDataset);
            function destroyDataset(dataset) {
                dataset.destroy();
            }
        }
    });
    return Menu;
}();
var DefaultMenu = function() {
    &quot;use strict&quot;;
    var s = Menu.prototype;
    function DefaultMenu() {
        Menu.apply(this, [].slice.call(arguments, 0));
    }
    _.mixin(DefaultMenu.prototype, Menu.prototype, {
        open: function open() {
            !this._allDatasetsEmpty() &amp;&amp; this._show();
            return s.open.apply(this, [].slice.call(arguments, 0));
        },
        close: function close() {
            this._hide();
            return s.close.apply(this, [].slice.call(arguments, 0));
        },
        _onRendered: function onRendered() {
            if (this._allDatasetsEmpty()) {
                this._hide();
            } else {
                this.isOpen() &amp;&amp; this._show();
            }
            return s._onRendered.apply(this, [].slice.call(arguments, 0));
        },
        _onCleared: function onCleared() {
            if (this._allDatasetsEmpty()) {
                this._hide();
            } else {
                this.isOpen() &amp;&amp; this._show();
            }
            return s._onCleared.apply(this, [].slice.call(arguments, 0));
        },
        setLanguageDirection: function setLanguageDirection(dir) {
            this.$node.css(dir === &quot;ltr&quot; ? this.css.ltr : this.css.rtl);
            return s.setLanguageDirection.apply(this, [].slice.call(arguments, 0));
        },
        _hide: function hide() {
            this.$node.hide();
        },
        _show: function show() {
            this.$node.css(&quot;display&quot;, &quot;block&quot;);
        }
    });
    return DefaultMenu;
}();
var Typeahead = function() {
    &quot;use strict&quot;;
    function Typeahead(o, www) {
        var onFocused, onBlurred, onEnterKeyed, onTabKeyed, onEscKeyed, onUpKeyed, onDownKeyed, onLeftKeyed, onRightKeyed, onQueryChanged, onWhitespaceChanged;
        o = o || {};
        if (!o.input) {
            $.error(&quot;missing input&quot;);
        }
        if (!o.menu) {
            $.error(&quot;missing menu&quot;);
        }
        if (!o.eventBus) {
            $.error(&quot;missing event bus&quot;);
        }
        www.mixin(this);
        this.eventBus = o.eventBus;
        this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;
        this.input = o.input;
        this.menu = o.menu;
        this.enabled = true;
        this.active = false;
        this.input.hasFocus() &amp;&amp; this.activate();
        this.dir = this.input.getLangDir();
        this._hacks();
        this.menu.bind().onSync(&quot;selectableClicked&quot;, this._onSelectableClicked, this).onSync(&quot;asyncRequested&quot;, this._onAsyncRequested, this).onSync(&quot;asyncCanceled&quot;, this._onAsyncCanceled, this).onSync(&quot;asyncReceived&quot;, this._onAsyncReceived, this).onSync(&quot;datasetRendered&quot;, this._onDatasetRendered, this).onSync(&quot;datasetCleared&quot;, this._onDatasetCleared, this);
        onFocused = c(this, &quot;activate&quot;, &quot;open&quot;, &quot;_onFocused&quot;);
        onBlurred = c(this, &quot;deactivate&quot;, &quot;_onBlurred&quot;);
        onEnterKeyed = c(this, &quot;isActive&quot;, &quot;isOpen&quot;, &quot;_onEnterKeyed&quot;);
        onTabKeyed = c(this, &quot;isActive&quot;, &quot;isOpen&quot;, &quot;_onTabKeyed&quot;);
        onEscKeyed = c(this, &quot;isActive&quot;, &quot;_onEscKeyed&quot;);
        onUpKeyed = c(this, &quot;isActive&quot;, &quot;open&quot;, &quot;_onUpKeyed&quot;);
        onDownKeyed = c(this, &quot;isActive&quot;, &quot;open&quot;, &quot;_onDownKeyed&quot;);
        onLeftKeyed = c(this, &quot;isActive&quot;, &quot;isOpen&quot;, &quot;_onLeftKeyed&quot;);
        onRightKeyed = c(this, &quot;isActive&quot;, &quot;isOpen&quot;, &quot;_onRightKeyed&quot;);
        onQueryChanged = c(this, &quot;_openIfActive&quot;, &quot;_onQueryChanged&quot;);
        onWhitespaceChanged = c(this, &quot;_openIfActive&quot;, &quot;_onWhitespaceChanged&quot;);
        this.input.bind().onSync(&quot;focused&quot;, onFocused, this).onSync(&quot;blurred&quot;, onBlurred, this).onSync(&quot;enterKeyed&quot;, onEnterKeyed, this).onSync(&quot;tabKeyed&quot;, onTabKeyed, this).onSync(&quot;escKeyed&quot;, onEscKeyed, this).onSync(&quot;upKeyed&quot;, onUpKeyed, this).onSync(&quot;downKeyed&quot;, onDownKeyed, this).onSync(&quot;leftKeyed&quot;, onLeftKeyed, this).onSync(&quot;rightKeyed&quot;, onRightKeyed, this).onSync(&quot;queryChanged&quot;, onQueryChanged, this).onSync(&quot;whitespaceChanged&quot;, onWhitespaceChanged, this).onSync(&quot;langDirChanged&quot;, this._onLangDirChanged, this);
    }
    _.mixin(Typeahead.prototype, {
        _hacks: function hacks() {
            var $input, $menu;
            $input = this.input.$input || $(&quot;&lt;div&gt;&quot;);
            $menu = this.menu.$node || $(&quot;&lt;div&gt;&quot;);
            $input.on(&quot;blur.tt&quot;, function($e) {
                var active, isActive, hasActive;
                active = document.activeElement;
                isActive = $menu.is(active);
                hasActive = $menu.has(active).length &gt; 0;
                if (_.isMsie() &amp;&amp; (isActive || hasActive)) {
                    $e.preventDefault();
                    $e.stopImmediatePropagation();
                    _.defer(function() {
                        $input.focus();
                    });
                }
            });
            $menu.on(&quot;mousedown.tt&quot;, function($e) {
                $e.preventDefault();
            });
        },
        _onSelectableClicked: function onSelectableClicked(type, $el) {
            this.select($el);
        },
        _onDatasetCleared: function onDatasetCleared() {
            this._updateHint();
        },
        _onDatasetRendered: function onDatasetRendered(type, dataset, suggestions, async) {
            this._updateHint();
            this.eventBus.trigger(&quot;render&quot;, suggestions, async, dataset);
        },
        _onAsyncRequested: function onAsyncRequested(type, dataset, query) {
            this.eventBus.trigger(&quot;asyncrequest&quot;, query, dataset);
        },
        _onAsyncCanceled: function onAsyncCanceled(type, dataset, query) {
            this.eventBus.trigger(&quot;asynccancel&quot;, query, dataset);
        },
        _onAsyncReceived: function onAsyncReceived(type, dataset, query) {
            this.eventBus.trigger(&quot;asyncreceive&quot;, query, dataset);
        },
        _onFocused: function onFocused() {
            this._minLengthMet() &amp;&amp; this.menu.update(this.input.getQuery());
        },
        _onBlurred: function onBlurred() {
            if (this.input.hasQueryChangedSinceLastFocus()) {
                this.eventBus.trigger(&quot;change&quot;, this.input.getQuery());
            }
        },
        _onEnterKeyed: function onEnterKeyed(type, $e) {
            var $selectable;
            if ($selectable = this.menu.getActiveSelectable()) {
                this.select($selectable) &amp;&amp; $e.preventDefault();
            }
        },
        _onTabKeyed: function onTabKeyed(type, $e) {
            var $selectable;
            if ($selectable = this.menu.getActiveSelectable()) {
                this.select($selectable) &amp;&amp; $e.preventDefault();
            } else if ($selectable = this.menu.getTopSelectable()) {
                this.autocomplete($selectable) &amp;&amp; $e.preventDefault();
            }
        },
        _onEscKeyed: function onEscKeyed() {
            this.close();
        },
        _onUpKeyed: function onUpKeyed() {
            this.moveCursor(-1);
        },
        _onDownKeyed: function onDownKeyed() {
            this.moveCursor(+1);
        },
        _onLeftKeyed: function onLeftKeyed() {
            if (this.dir === &quot;rtl&quot; &amp;&amp; this.input.isCursorAtEnd()) {
                this.autocomplete(this.menu.getTopSelectable());
            }
        },
        _onRightKeyed: function onRightKeyed() {
            if (this.dir === &quot;ltr&quot; &amp;&amp; this.input.isCursorAtEnd()) {
                this.autocomplete(this.menu.getTopSelectable());
            }
        },
        _onQueryChanged: function onQueryChanged(e, query) {
            this._minLengthMet(query) ? this.menu.update(query) : this.menu.empty();
        },
        _onWhitespaceChanged: function onWhitespaceChanged() {
            this._updateHint();
        },
        _onLangDirChanged: function onLangDirChanged(e, dir) {
            if (this.dir !== dir) {
                this.dir = dir;
                this.menu.setLanguageDirection(dir);
            }
        },
        _openIfActive: function openIfActive() {
            this.isActive() &amp;&amp; this.open();
        },
        _minLengthMet: function minLengthMet(query) {
            query = _.isString(query) ? query : this.input.getQuery() || &quot;&quot;;
            return query.length &gt;= this.minLength;
        },
        _updateHint: function updateHint() {
            var $selectable, data, val, query, escapedQuery, frontMatchRegEx, match;
            $selectable = this.menu.getTopSelectable();
            data = this.menu.getSelectableData($selectable);
            val = this.input.getInputValue();
            if (data &amp;&amp; !_.isBlankString(val) &amp;&amp; !this.input.hasOverflow()) {
                query = Input.normalizeQuery(val);
                escapedQuery = _.escapeRegExChars(query);
                frontMatchRegEx = new RegExp(&quot;^(?:&quot; + escapedQuery + &quot;)(.+$)&quot;, &quot;i&quot;);
                match = frontMatchRegEx.exec(data.val);
                match &amp;&amp; this.input.setHint(val + match[1]);
            } else {
                this.input.clearHint();
            }
        },
        isEnabled: function isEnabled() {
            return this.enabled;
        },
        enable: function enable() {
            this.enabled = true;
        },
        disable: function disable() {
            this.enabled = false;
        },
        isActive: function isActive() {
            return this.active;
        },
        activate: function activate() {
            if (this.isActive()) {
                return true;
            } else if (!this.isEnabled() || this.eventBus.before(&quot;active&quot;)) {
                return false;
            } else {
                this.active = true;
                this.eventBus.trigger(&quot;active&quot;);
                return true;
            }
        },
        deactivate: function deactivate() {
            if (!this.isActive()) {
                return true;
            } else if (this.eventBus.before(&quot;idle&quot;)) {
                return false;
            } else {
                this.active = false;
                this.close();
                this.eventBus.trigger(&quot;idle&quot;);
                return true;
            }
        },
        isOpen: function isOpen() {
            return this.menu.isOpen();
        },
        open: function open() {
            if (!this.isOpen() &amp;&amp; !this.eventBus.before(&quot;open&quot;)) {
                this.menu.open();
                this._updateHint();
                this.eventBus.trigger(&quot;open&quot;);
            }
            return this.isOpen();
        },
        close: function close() {
            if (this.isOpen() &amp;&amp; !this.eventBus.before(&quot;close&quot;)) {
                this.menu.close();
                this.input.clearHint();
                this.input.resetInputValue();
                this.eventBus.trigger(&quot;close&quot;);
            }
            return !this.isOpen();
        },
        setVal: function setVal(val) {
            this.input.setQuery(_.toStr(val));
        },
        getVal: function getVal() {
            return this.input.getQuery();
        },
        select: function select($selectable) {
            var data = this.menu.getSelectableData($selectable);
            if (data &amp;&amp; !this.eventBus.before(&quot;select&quot;, data.obj)) {
                this.input.setQuery(data.val, true);
                this.eventBus.trigger(&quot;select&quot;, data.obj);
                this.close();
                return true;
            }
            return false;
        },
        autocomplete: function autocomplete($selectable) {
            var query, data, isValid;
            query = this.input.getQuery();
            data = this.menu.getSelectableData($selectable);
            isValid = data &amp;&amp; query !== data.val;
            if (isValid &amp;&amp; !this.eventBus.before(&quot;autocomplete&quot;, data.obj)) {
                this.input.setQuery(data.val);
                this.eventBus.trigger(&quot;autocomplete&quot;, data.obj);
                return true;
            }
            return false;
        },
        moveCursor: function moveCursor(delta) {
            var query, $candidate, data, payload, cancelMove;
            query = this.input.getQuery();
            $candidate = this.menu.selectableRelativeToCursor(delta);
            data = this.menu.getSelectableData($candidate);
            payload = data ? data.obj : null;
            cancelMove = this._minLengthMet() &amp;&amp; this.menu.update(query);
            if (!cancelMove &amp;&amp; !this.eventBus.before(&quot;cursorchange&quot;, payload)) {
                this.menu.setCursor($candidate);
                if (data) {
                    this.input.setInputValue(data.val);
                } else {
                    this.input.resetInputValue();
                    this._updateHint();
                }
                this.eventBus.trigger(&quot;cursorchange&quot;, payload);
                return true;
            }
            return false;
        },
        destroy: function destroy() {
            this.input.destroy();
            this.menu.destroy();
        }
    });
    return Typeahead;
    function c(ctx) {
        var methods = [].slice.call(arguments, 1);
        return function() {
            var args = [].slice.call(arguments);
            _.each(methods, function(method) {
                return ctx[method].apply(ctx, args);
            });
        };
    }
}();
(function() {
    &quot;use strict&quot;;
    var old, keys, methods;
    old = $.fn.typeahead;
    keys = {
        www: &quot;tt-www&quot;,
        attrs: &quot;tt-attrs&quot;,
        typeahead: &quot;tt-typeahead&quot;
    };
    methods = {
        initialize: function initialize(o, datasets) {
            var www;
            datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);
            o = o || {};
            www = WWW(o.classNames);
            return this.each(attach);
            function attach() {
                var $input, $wrapper, $hint, $menu, defaultHint, defaultMenu, eventBus, input, menu, typeahead, MenuConstructor;
                _.each(datasets, function(d) {
                    d.highlight = !!o.highlight;
                });
                $input = $(this);
                $wrapper = $(www.html.wrapper);
                $hint = $elOrNull(o.hint);
                $menu = $elOrNull(o.menu);
                defaultHint = o.hint !== false &amp;&amp; !$hint;
                defaultMenu = o.menu !== false &amp;&amp; !$menu;
                defaultHint &amp;&amp; ($hint = buildHintFromInput($input, www));
                defaultMenu &amp;&amp; ($menu = $(www.html.menu).css(www.css.menu));
                $hint &amp;&amp; $hint.val(&quot;&quot;);
                $input = prepInput($input, www);
                if (defaultHint || defaultMenu) {
                    $wrapper.css(www.css.wrapper);
                    $input.css(defaultHint ? www.css.input : www.css.inputWithNoHint);
                    $input.wrap($wrapper).parent().prepend(defaultHint ? $hint : null).append(defaultMenu ? $menu : null);
                }
                MenuConstructor = defaultMenu ? DefaultMenu : Menu;
                eventBus = new EventBus({
                    el: $input
                });
                input = new Input({
                    hint: $hint,
                    input: $input
                }, www);
                menu = new MenuConstructor({
                    node: $menu,
                    datasets: datasets
                }, www);
                typeahead = new Typeahead({
                    input: input,
                    menu: menu,
                    eventBus: eventBus,
                    minLength: o.minLength
                }, www);
                $input.data(keys.www, www);
                $input.data(keys.typeahead, typeahead);
            }
        },
        isEnabled: function isEnabled() {
            var enabled;
            ttEach(this.first(), function(t) {
                enabled = t.isEnabled();
            });
            return enabled;
        },
        enable: function enable() {
            ttEach(this, function(t) {
                t.enable();
            });
            return this;
        },
        disable: function disable() {
            ttEach(this, function(t) {
                t.disable();
            });
            return this;
        },
        isActive: function isActive() {
            var active;
            ttEach(this.first(), function(t) {
                active = t.isActive();
            });
            return active;
        },
        activate: function activate() {
            ttEach(this, function(t) {
                t.activate();
            });
            return this;
        },
        deactivate: function deactivate() {
            ttEach(this, function(t) {
                t.deactivate();
            });
            return this;
        },
        isOpen: function isOpen() {
            var open;
            ttEach(this.first(), function(t) {
                open = t.isOpen();
            });
            return open;
        },
        open: function open() {
            ttEach(this, function(t) {
                t.open();
            });
            return this;
        },
        close: function close() {
            ttEach(this, function(t) {
                t.close();
            });
            return this;
        },
        select: function select(el) {
            var success = false, $el = $(el);
            ttEach(this.first(), function(t) {
                success = t.select($el);
            });
            return success;
        },
        autocomplete: function autocomplete(el) {
            var success = false, $el = $(el);
            ttEach(this.first(), function(t) {
                success = t.autocomplete($el);
            });
            return success;
        },
        moveCursor: function moveCursoe(delta) {
            var success = false;
            ttEach(this.first(), function(t) {
                success = t.moveCursor(delta);
            });
            return success;
        },
        val: function val(newVal) {
            var query;
            if (!arguments.length) {
                ttEach(this.first(), function(t) {
                    query = t.getVal();
                });
                return query;
            } else {
                ttEach(this, function(t) {
                    t.setVal(newVal);
                });
                return this;
            }
        },
        destroy: function destroy() {
            ttEach(this, function(typeahead, $input) {
                revert($input);
                typeahead.destroy();
            });
            return this;
        }
    };
    $.fn.typeahead = function(method) {
        if (methods[method]) {
            return methods[method].apply(this, [].slice.call(arguments, 1));
        } else {
            return methods.initialize.apply(this, arguments);
        }
    };
    $.fn.typeahead.noConflict = function noConflict() {
        $.fn.typeahead = old;
        return this;
    };
    function ttEach($els, fn) {
        $els.each(function() {
            var $input = $(this), typeahead;
            (typeahead = $input.data(keys.typeahead)) &amp;&amp; fn(typeahead, $input);
        });
    }
    function buildHintFromInput($input, www) {
        return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop(&quot;readonly&quot;, true).removeAttr(&quot;id name placeholder required&quot;).attr({
            autocomplete: &quot;off&quot;,
            spellcheck: &quot;false&quot;,
            tabindex: -1
        });
    }
    function prepInput($input, www) {
        $input.data(keys.attrs, {
            dir: $input.attr(&quot;dir&quot;),
            autocomplete: $input.attr(&quot;autocomplete&quot;),
            spellcheck: $input.attr(&quot;spellcheck&quot;),
            style: $input.attr(&quot;style&quot;)
        });
        $input.addClass(www.classes.input).attr({
            autocomplete: &quot;off&quot;,
            spellcheck: false
        });
        try {
            !$input.attr(&quot;dir&quot;) &amp;&amp; $input.attr(&quot;dir&quot;, &quot;auto&quot;);
        } catch (e) {}
        return $input;
    }
    function getBackgroundStyles($el) {
        return {
            backgroundAttachment: $el.css(&quot;background-attachment&quot;),
            backgroundClip: $el.css(&quot;background-clip&quot;),
            backgroundColor: $el.css(&quot;background-color&quot;),
            backgroundImage: $el.css(&quot;background-image&quot;),
            backgroundOrigin: $el.css(&quot;background-origin&quot;),
            backgroundPosition: $el.css(&quot;background-position&quot;),
            backgroundRepeat: $el.css(&quot;background-repeat&quot;),
            backgroundSize: $el.css(&quot;background-size&quot;)
        };
    }
    function revert($input) {
        var www, $wrapper;
        www = $input.data(keys.www);
        $wrapper = $input.parent().filter(www.selectors.wrapper);
        _.each($input.data(keys.attrs), function(val, key) {
            _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);
        });
        $input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input);
        if ($wrapper.length) {
            $input.detach().insertAfter($wrapper);
            $wrapper.remove();
        }
    }
    function $elOrNull(obj) {
        var isValid, $el;
        isValid = _.isJQuery(obj) || _.isElement(obj);
        $el = isValid ? $(obj).first() : [];
        return $el.length ? $el : null;
    }
})();</pre>

<p>});</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.0.4.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

